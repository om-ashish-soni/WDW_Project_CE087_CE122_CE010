<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content=
		"width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<title>Speech to Text</title>
    <style>
        #btns{
            display: flex;
            justify-content: space-between;
        }
    </style>
</head>

<body>
    <nav class=" bg-dark" style="max-height:10%;">
        <!-- <div class="container" style="align-items: center; ">
            <img src="pqrs.PNG" style="margin-left: 10%;" width="80%" height="100vw" alt="">
        </div> -->
        <div class="container text-center bg-dark text-light" style="max-height:7%;padding-top:1.2%;">
            <img src="abc.PNG" id="small_logo" width="5%" style="border-radius: 100%;" alt="">
            <span class="navbar-brand" id="task_name" style="font-size:3vw;" href="#"></span>
            <span class="alert alert-light" style="float:right;font-size:2vw;" id="clock">00:20</span>
            <!-- <span class="navbar-brand" style="float:right;font-size:1.5vw;margin-top:1.2%;">13:48:00PM</span> -->
        </div>
    </nav>


    <!-- body -->
    <div class="container">
        <p class="alert alert-primary" id="que">hello  how are you</p>
    </div>

	<div class="words" contenteditable>
		<p id="ans"></p>
	</div>
    <div class="container text-center" id="btns">
        <button class="btn btn-outline-primary" id="start">start</button>
        <button class="btn btn-outline-success" id="submit">submit</button>
    </div>
	<script>

    document.getElementById('start').onclick=()=>{          
        
      var speech = true;
            window.SpeechRecognition = window.SpeechRecognition
                            || window.webkitSpeechRecognition;

            const recognition = new SpeechRecognition();
            recognition.interimResults = true;
            recognition.continuous=true;
            const words = document.querySelector('.words');
            words.appendChild(p);

            recognition.addEventListener('result', e => {
                const transcript = Array.from(e.results)
                    .map(result => result[0])
                    .map(result => result.transcript)
                    .join('')

                document.getElementById("p").innerHTML = transcript;
                console.log(transcript);
            });
            
            if (speech == true) {
                recognition.start();
                recognition.addEventListener('end', recognition.start);
            }
        };



	</script>
</body>

</html>
